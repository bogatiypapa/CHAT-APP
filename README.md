# Chat

Клиент-серверное чат-приложение на .NET с использованием Avalonia UI, SignalR и SQLite. Поддерживает регистрацию, управление подписками, 
приватные чаты и админ-панель для управления пользователями.

---

## Функционал:

* Регистрация и авторизация пользователей (SQLite, без паролей)
* Уведомления о подключении/отключении пользователей, на которых вы подписаны
* Личные чаты при наличии взаимной подписки
* Админ-панель для управления пользователями и подписками
* Кроссплатформенный клиент на Avalonia UI
* Сервер на ASP.NET Core с SignalR

---

## Технологии

* .NET 8
* Avalonia UI
* SignalR (ASP.NET Core)
* SQLite + Entity Framework Core

---

## Установка

1. Клонируйте репозиторий:

```bash
git clone https://github.com/your-username/Chat.git
cd Chat
```

2. Установите зависимости:

```bash
dotnet restore
```

3. Постройте и запустите сервер:

```bash
cd ChatServer
dotnet run
```

4. Запустите клиент:

```bash
cd ChatClient
dotnet run
```

---

## Руководство пользователя

### Авторизация

1. При запуске клиента появляется окно авторизации
2. Введите любое имя (например, `vasya`) и нажмите "Войти"
3. Если пользователь с таким именем не существует — он будет создан

### Окно подписок

После авторизации откроется окно управления подписками:

* В левой части — список всех пользователей
* В правой — список ваших подписок
* Можно:

  - Добавлять подписки
  - Удалять подписки

> Пользователи, на которых вы подписаны, будут отображаться онлайн и доступны для переписки при взаимной подписке.

### Чат

После настройки подписок откроется окно чата:

* Отображается ваш логин
* Выбор пользователя для отправки сообщений (только при взаимной подписке)
* Ввод текста и кнопка "Отправить"
* История переписки с выбранным пользователем

> Отправка сообщений возможна **только при взаимной подписке**.

### Кнопка "Обновить подписки"

Если администратор изменил ваши подписки во время вашей сессии — нажмите "Обновить подписки", чтобы загрузить актуальный список доступных собеседников.

### Админ-панель

Доступна при запуске в режиме администратора. Необходимо написать "admin" при авторизации пользователя
Возможности:

* Просмотр списка всех пользователей
* Удаление пользователя
* Просмотр и управление подписчиками/целями подписок
* Добавление и удаление подписок от имени любого пользователя

---

### Структура проекта

```
Chat/
├── ChatClient/       # Клиент Avalonia
├── ChatServer/       # Сервер ASP.NET + SignalR
└── README.md         # Руководство и описание проекта
```

---
Автор

Ведерников Дмитрий / bogatiypapa
